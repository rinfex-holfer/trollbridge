текст при провале морали
текст при победе
текст при поражении
? броски

TODO
прокачка
постройки

Рефакторинг
- уничтожение сущностей: персонажи и игровые объекты, удаляясь, должны чистить все свое и своих внутренних компонент (удалять твины, убирать таймауты, и тд)
- render не должен ничего хранить, свои объекты сущности должны менеджерить сами
- dependency injection вместо прямого обращения к другим менеджерам
- async setState портит жизнь - с одной стороны он понадобится
для анимаций переходов между стейтами (возможно), с другой - может ломать логику, которая
предполагает моментальное изменение состояний персонажа
(перс не успевает перейти из FightingIdle в Surrender и начинает атаковать, хотя хиты кончились)
возможное решение: следующий state выставляется, но прежде чем начать исполнение, должен ждать выполнения промиса предыдущего
- State машины должны опционально принимать покрытые типами options
- ObjectsManager должен универсально и типизированно регистрировать объекты и отдавать их по ключу